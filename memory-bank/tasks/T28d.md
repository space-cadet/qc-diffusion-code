# Task: T28d
*Created: 2026-01-28 23:57:00 IST*
*Last Updated: 2026-01-28 23:57:00 IST*

## Task Information
**Title:** Simplicial Core Integration and Migration
**Status:** ðŸ”„ (Active)
**Priority:** HIGH
**Created:** 2026-01-28 23:57:00 IST
**Started:** 2026-01-28 23:57:00 IST
**Completed:** 

## Description
Integrate the new simplicial core with existing code, including migration strategy, backward compatibility, and testing. This replaces the old implementation while maintaining the same external interfaces.

## Acceptance Criteria
- [ ] Update SimplicialGrowthController to use new core
- [ ] Fix selectMove() to be dimension-aware (2D vs 3D moves)
- [ ] Fix moveCount accumulation (remove reset in createState())
- [ ] Update createInitialVertexPositions() to handle 3D
- [ ] Update PachnerMoveTester to use new core
- [ ] Fix onApplyMove to actually apply selected move type
- [ ] Remove hardcoded IDs (use nextVertexId from controller)
- [ ] Update SimplicialVisualization to work with new structure
- [ ] Add adapter layer for backward compatibility
- [ ] Create integration tests
- [ ] Add geometric quality checks in UI

## Implementation Details
- Replace internal representation with SimplicialComplexTopology
- Update dimension type to be 2 | 3 instead of number
- Ensure preview uses same operations as apply
- Maintain same SimplicialGrowthState shape for backward compatibility
- Add adapter functions if needed
- Test old tests still pass after migration

## Related Files
- `frontend/src/lab/controllers/SimplicialGrowthController.ts`: Controller updates
- `frontend/src/lab/components/PachnerMoveTester.tsx`: Tester updates
- `frontend/src/lab/components/SimplicialVisualization.tsx`: Visualization updates
- `frontend/src/lab/types/simplicial.ts`: Type updates
- `frontend/src/lab/hooks/useSimplicialGrowth.ts`: Hook updates
- `implementation-details/simplicial-integration.md`: Integration documentation

## Dependencies
- **Depends On:** T28a (simplicial core), T28b (2D implementation), T28c (3D implementation)
- **Blocks:** None

## Progress Tracking
- 2026-01-28: Task created, documentation complete

## Issues and Blockers
- None

## Notes
- Migration should be done incrementally to minimize disruption
- Keep existing SimplicialComplex interface for external use
- Add adapter layer if needed for compatibility
- Test thoroughly before deleting old implementation

## Related Resources
- [simplicial-integration.md](../implementation-details/simplicial-integration.md): Integration documentation
- [simplicial-shared-aspects.md](../implementation-details/simplicial-shared-aspects.md): Shared data structures
- [simplicial-2d-core.md](../implementation-details/simplicial-2d-core.md): 2D implementation
- [simplicial-3d-core.md](../implementation-details/simplicial-3d-core.md): 3D implementation
