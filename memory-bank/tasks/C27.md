# C27: Simulation Lab Framework

*Created: 2026-01-19 23:49:00 IST*
*Last Updated: 2026-01-28 04:21:56 IST*

**Description**: Design and implement shared simulation lab infrastructure enabling consistent patterns across PDE, Classical Walk, and Quantum Walk pages
**Status**: ðŸ”„ IN PROGRESS
**Priority**: HIGH
**Started**: 2026-01-19
**Last Active**: 2026-01-28 04:21:56 IST
**Dependencies**: C7, C7a, C17, C18, C24

## Completion Criteria
- SimulationController interface defined and implemented
- TimeSeriesStore abstracted for history/replay across pages
- MetricsGrid and TimelineSlider components extracted
- At least one page migrated to shared framework
- Architecture design doc with ASCII diagrams complete

## Related Files
- `memory-bank/implementation-details/simulation-lab-framework.md`
- `frontend/src/lab/interfaces/SimulationController.ts`
- `frontend/src/lab/interfaces/TimeSeriesStore.ts`
- `frontend/src/lab/components/MetricsGrid.tsx`
- `frontend/src/lab/components/TimelineSlider.tsx`
- `frontend/src/lab/components/ControlButtons.tsx`
- `frontend/src/lab/hooks/useSimulation.ts`
- `frontend/src/lab/services/ExportService.ts`
- `frontend/src/lab/LabDemoPage.tsx`
- `frontend/src/App.tsx` (updated with labdemo tab)
- `frontend/src/stores/appStore.ts` (updated activeTab type)
- `frontend/src/QuantumWalkPage.tsx`
- `frontend/src/PlotComponent.tsx`
- `frontend/src/RandomWalkSim.tsx`

## Progress
1. âœ… Architecture analysis and design document creation
2. âœ… SimulationController interface definition
3. âœ… TimeSeriesStore abstraction
4. âœ… Extract MetricsGrid component
5. âœ… Extract TimelineSlider component
6. âœ… Implement ControlButtons component
7. âœ… Implement useSimulation hook
8. âœ… Implement ExportService
9. âœ… Create LabDemoPage demonstrating all components
10. ðŸ”„ Migrate QuantumWalkPage to shared framework
11. â¬œ Migrate PDE page
12. â¬œ Migrate Classical Walk page

## Context
Analysis of existing codebase revealed:
- Existing reusable: FloatingPanel, PlotlyChart, TextObservable DSL, StreamObservableManager
- Missing: SimulationController protocol, unified history/replay, schema-driven params
- Related docs: observer-design-plan.md, streaming-observables-plan.md, composable-observables-plan.md
- Estimated effort: ~10 days for full framework + migration
